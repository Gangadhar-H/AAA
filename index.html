<!DOCTYPE HTML>
<html>

	<head>
		<title> Inventory managment </title>
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
	</head>	

	<body>
		<div class="container mt-4">
			<h2 class="text-center"> Inventory Management </h2>

			<div class="card shadow-sm mt-3 p-4 bg-light">
				<h3> Add new Item: </h3>
				<form>
					<div class="row">
						<div class="col-4">
							<label for="itemName" class="form-label"> Item Name: </label>
							<input type="text" name="itemName" id="itemName" class="form-control">
						</div>

						<div class="col-4">
							<label for="price" class="form-label"> Price: </label>
							<input type="text" name="price" id="price" class="form-control">
						</div>
					
						<div class="col-4">
							<label for="quantity" class="form-label"> Quantity: </label>
							<input type="text" name="quantity" id="quantity" class="form-control">
						</div>

					</div>	
					<div>
						<button class="btn btn-success m-4" id="addBtn"> Add </button>
						<button class="btn btn-primary"> Reset </button>
					</div>
				</form>			
			</div>
			
			<div class="card shadow-sm mt-3 p-4 bg-light">
				<table border class="table table-border">
					<thead>
						<tr class="table-name">
							<td> Item </td>
							<td> Price </td>
							<td> Quantity </td>
							<td> Remove </td>
						</tr>
					</thead>

					<tbody id="itemInventory">

					</tbody>
				</table>
			</div>

		</div>


		<script>
			let tbody = document.getElementById("itemInventory");
			let btn = document.getElementById("addBtn");

			btn.addEventListener("click", (e) => {
				e.preventDefault();
				let name = document.getElementById("itemName").value;
				let price = document.getElementById("price").value;
				let qty = document.getElementById("quantity").value;

				let row = document.createElement("tr");

				row.innerHTML = `
						<td> ${name} </td>
						<td> ${price} </td>
						<td> ${qty} </td>
						<td> <button class="btn btn-danger rm-btn"> Remove </button </td>
						<button class="btn btn-warning edit-btn">Edit</button>
					`;
			
				tbody.appendChild(row);
				document.getElementsByTagName("form")[0].reset();

			});

			tbody.addEventListener("click", (e) => {
				if(e.target.classList.contains("rm-btn")) {
					let row = e.target.parentElement.parentElement;
					row.remove();
				}

				if (e.target.classList.contains("edit-btn")) { 
					let row = e.target.parentElement.parentElement; 
					document.getElementById("itemName").value = row.children[0].textContent.trim(); 
					document.getElementById("price").value = row.children[1].textContent.trim(); 
					document.getElementById("quantity").value = row.children[2].textContent.trim(); 
					row.remove(); // remove old row so updated one can be added 
				}
			});
		
		</script>
		
			
	</body>

</html>
